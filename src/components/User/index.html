<div class="container">
    <div class="row">
        <div class="col-6">
            <div class="mb-5">
                 You are welcome
                <span class="font-weight-bold">{{user.name}} {{user.surname}} </span>
                <button class="btn btn-primary" @click="Logout()" >Log Out</button>
            </div>
        </div>
        <div class="col-6 shopping-bag">
            <a href='#'@click="orders"><img src="../../assets/bag.jpg" class="bag" alt=""/></a>
            <div class="product-count">
                {{user.orders_count}}
            </div>
        </div>
    </div>
    <div class="container">
        <div class="d-flex">
            <validation-observer v-slot="{ invalid }">
                <form @submit.prevent="addProduct">
                    <validation-provider rules="alpha|required" v-slot="{ errors }" name="name">
                        <input type="text" class="form-control" placeholder="name" v-model="product.name">
                        <span>{{ errors[0] }}</span>
                    </validation-provider>
                    <validation-provider rules="integer|required" v-slot="{ errors }" name="price">
                        <input type="text" class="form-control" placeholder="price" v-model="product.price">
                        <span>{{ errors[0] }}</span>
                    </validation-provider>
                    <validation-provider rules="integer|required" v-slot="{ errors }" name="quantity">
                        <input type="text" class="form-control" placeholder="quantity" v-model="product.quantity">
                    </validation-provider>
                    <button type="submit" :disabled="invalid">Add</button>
                </form>
            </validation-observer>
        </div>
        <div class="row">
            <div class="col-sm-12 col-md-10 col-md-offset-1">
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th>Product</th>
                        <th>Number</th>
                        <th class="text-center">Price</th>
                        <th>Â </th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr v-for="(product,index) in products" :key="product.id">
                            <td class="col-sm-8 col-md-6">
                                <div class="media">
                                    <a class="thumbnail pull-left" href="#"> <img class="media-object" src="http://icons.iconarchive.com/icons/custom-icon-design/flatastic-2/72/product-icon.png" style="width: 72px; height: 72px;"> </a>
                                    <div class="media-body ml-3">
                                        <h4 class="media-heading"><a href="#">{{product.name}}</a></h4>
                                    </div>
                                </div>
                            </td>
                            <td class="col-sm-1 col-md-1" style="text-align: center">
                                <input type="number" min='1' class="form-control" v-model="product.newQuantity">
                            </td>
                            <td class="col-sm-1 col-md-1 text-center"><strong>{{product.price}}</strong></td>
                            <td class="col-sm-1 col-md-1">
                                <button type="button" class="btn btn-danger add-input" @click="addToCard(product)">
                                    <span class="glyphicon glyphicon-remove"></span> Add to card
                                </button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
